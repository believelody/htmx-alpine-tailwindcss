<div x-data="{ loading: false, success: false, error: false }">
        <template x-if="!success && !error">
                <form @submit.prevent="
                                form = new FormData($el);
                                res = await fetch('/api/subscription/2', {
                                        method: 'post',
                                        headers: {
                                                'Content-type': 'application/json',
                                                Accept: 'application/json',
                                        },
                                        body: JSON.stringify({ subscription: form.get('subscription')})
                                });
                                json = await res.json();
                                console.log(json);
                        "
                        class="flex flex-wrap items-center justify-center md:flex-nowrap md:justify-start"
                >
                        {{> field/email class="relative w-auto mr-2 sm:w-64 sm:mr-4" 
                                name="subscription" placeholder="Type your email here"
                                required=true }}
                        {{> button/primary
                                outlined=true
                                type="submit"
                                label="Subscribe"
                        }}
                </form>
        </template>
        <template x-if="success && !error">
                {{> success/subscription }}
        </template>
        <template x-if="error && !success">
                {{partial (toString 'modal/500') }}
        </template>
</div>